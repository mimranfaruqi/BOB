{"version":3,"file":"public/BOB.js","sources":["app/scripts/BOB.coffee","app/scripts/BOBChildArray.coffee"],"names":[],"mappings":"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","sourcesContent":["# BOB\n\n# build or bail\n\nclass BOB\n\tBOB._data = null\n\t\n\tBOB.find = (selector) ->\n\t\t#TODO: this selects an existing element, and append/prepend/inserts into that\n\tBOB.data = ->\n\t\treturn BOB._data\n\tBOB.get_or_create_bob = (data, options, parent) ->\n\t\tchild_bob = null\n\t\tif data instanceof BOB\n\t\t\tchild_bob = data\n\t\telse\n\t\t\tchild_bob = new BOB(data, options, parent)\n\t\treturn child_bob\n\n\tBOB.toVariable = (data) ->\n\t\tif typeof data is 'function'\n\t\t\treturn data()\n\t\telse\n\t\t\treturn data\n\n\tconstructor: (selector, options, parent=null, preBob=null, contentBob=null, postBob=null) ->\n\t\tif selector.indexOf(\" \") > -1\n\t\t\tconsole.error(\"Invalid BOB selector. \\\"\" + selector + \"\\\" contains \\\" \\\"(space). Only allowed is \\\"tag\\\", \\\"tag.class\\\", or \\\"tag#id\\\".\")\n\t\t\treturn \"Invalid selector. See console log for more details.\"\n\n\t\t@parent = parent\n\n\t\t#Flatting so BOB.data gets parsed out to the correct thing.\n\t\t@options = {}\n\t\tif options\n\t\t\tfor key, value of options\n\t\t\t\t@options[key] = BOB.toVariable(value)\n\n\t\t@preBob = preBob\n\t\t@contentBob = contentBob\n\t\t@postBob = postBob\n\n\t\t@type = selector\n\t\t@object_class = null\n\t\t@object_id = null\n\t\t@content = \"\"\n\t\t@style = null\n\n\t\tif selector.indexOf(\".\") > -1\n\t\t\t[@type, @object_class] = selector.split(\".\")\n\t\telse if selector.indexOf(\"#\") > -1\n\t\t\t[@type, @object_id] = selector.split(\"#\")\n\n\tcontent: (content) ->\n\t\t@content = BOB.toVariable(content)\n\t\treturn this\n\tstyle: (style) ->\n\t\t@style = BOB.toVariable(style)\n\t\treturn this\n\tclass: (object_class) ->\n\t\t@object_class = BOB.toVariable(object_class)\n\t\treturn this\n\tid: (object_id) ->\n\t\t@object_id = BOB.toVariable(object_id)\n\t\treturn this\n\n\tinsert: (data, options) ->\n\t\tchild_bob = BOB.get_or_create_bob(data, options, this)\n\n\t\tif @contentBob\n\t\t\t@contentBob.append(child_bob)\n\t\telse\n\t\t\t@contentBob = child_bob\n\n\t\treturn child_bob\n\n\ttoString: ->\n\t\t#this makes the toString bubble to the top if it is cast on a sub-element\n\t\tif @parent\n\t\t\treturn @parent.toString()\n\t\t\n\t\t#kill parents so they will print out.\n\t\t@contentBob.parent = null if @contentBob\n\t\t@preBob.parent     = null if @preBob\n\t\t@postBob.parent    = null if @postBob\n\n\t\tprepend = \"\"\n\t\tappend = \"\"\n\t\tprintself = \"\"\n\t\tcontent_b = \"\"\n\n\t\tcontent_b = @contentBob.toString() if @contentBob\n\t\tprepend = @preBob.toString() if @preBob\n\t\tappend = @postBob.toString() if @postBob\n\n\t\tprintself += \"<\" + @type + \" \"\n\t\tfor key, value of @options\n\t\t\tunless key == \"style\" && @style || key == \"id\" && @object_id || key == \"class\" && @object_class\n\t\t\t\tprintself += key + '=\"' + value + '\" ' \n\n\t\t\n\t\t\n\t\tprintself += 'class=\"' + @object_class + '\" ' if @object_class\n\t\tprintself += 'id=\"'    + @object_id    + '\" ' if @object_id\n\t\tprintself += 'style=\"' + @style        + '\" ' if @style\n\n\t\tprintself = printself.slice(0, -1)\n\t\tprintself += \">\" + @content + content_b + \"</\" + @type + \">\"\n\n\t\treturn prepend + printself + append\n\n\tappend: (data, options) ->\n\t\tnew_bob = BOB.get_or_create_bob(data,options, this)\n\t\tif @postBob\n\t\t\t@postBob.prepend(new_bob)\n\t\telse\n\t\t\t@postBob = new_bob\n\tprepend: (data, options) ->\n\t\tnew_bob = BOB.get_or_create_bob(data,options, this)\n\t\tif @preBob\n\t\t\t@preBob.append(new_bob)\n\t\telse\n\t\t\t@preBob = new_bob\n\n\tdo: (dataset)->\n\t\tchild_array = new BOBChildArray(dataset, this)\n\t\t# @doData = dataset\n\t\t# @inDO = true\n\t\treturn child_array\n\n\tup: ->\n\t\t@parent\n\n\tparent: ->\n\t\t@parent\n\n\t# new BOB(\"div\",{test: \"lol\"}).do([\"data\"]).add(\"p\",funtion(d){this.insert(\"div\",{a: d.height})})\n\n\t# new BOB(\"ul\",{class: \"lol\"})\n\t# \t.do(dataset)\n\t# \t.insert(\"li\", {dataProp: BOB.data}) #?\n\t# \t\t.content(BOB.data)              #?\n\t# \t.insert(\"p\")\n\t# \t\t.content(\"lol\")\n\t# \t.up()\n\t# \t.up()\n\t# \t.insert(\"p\")\n\t# \t\t.content(\"lol2\")\n\t# \t.up()\n\t# \t.append(\"ul\",{class: \"shiet\"})\n\t# \t.append(\"ul\",{class: \"shiet\"})\n\t# \t.prepend(\"ul\",{class: \"shiet\"})\n\t# \t.toString();\n\n","class BOBChildArray\n\tconstructor: (dataset, parent) ->\n\t\t@dataset = dataset\n\t\t@parent = parent\n\t\t@bobs = []\n\n\t#No point in doing this on parent. Does not make sense to do \".do(data).id(BOB.data)\"\n\tcontent: (content) ->\n\t\tfor i in [0...@dataset.length]\n\t\t\tBOB._data = @dataset[i]\n\t\t\t@bobs[i].content(content) if @bobs[i]\n\t\treturn this\n\tstyle: (style) ->\n\t\tfor i in [0...@dataset.length]\n\t\t\tBOB._data = @dataset[i]\n\t\t\t@bobs[i].style(style) if @bobs[i]\n\t\treturn this\n\tclass: (object_class) ->\n\t\tfor i in [0...@dataset.length]\n\t\t\tBOB._data = @dataset[i]\n\t\t\t@bobs[i].class(object_class) if @bobs[i]\n\t\treturn this\n\tid: (object_id) ->\n\t\tfor i in [0...@dataset.length]\n\t\t\tBOB._data = @dataset[i]\n\t\t\t@bobs[i].id(object_id) if @bobs[i]\n\t\treturn this\n\tinsert: (data, options) ->\n\t\tfor i in [0...@dataset.length]\n\t\t\tBOB._data = @dataset[i]\n\t\t\tif @bobs[i]\n\t\t\t\t@bobs[i] = @bobs[i].insert(data, options)\n\t\t\telse\n\t\t\t\t@bobs.push(@parent.insert(data, options))\n\t\t\t\t\n\t\treturn this\n\tappend: (data, options) ->\n\t\tfor i in [0...@dataset.length]\n\t\t\tBOB._data = @dataset[i]\n\t\t\tif @bobs[i]\n\t\t\t\t@bobs[i] = @bobs[i].append(data, options)\n\t\t\telse\n\t\t\t\t@bobs.push(@parent.append(data, options))\n\n\t\treturn this\n\tprepend: (data, options) ->\n\t\tfor i in [0...@dataset.length]\n\t\t\tBOB._data = @dataset[i]\n\t\t\tif @bobs[i]\n\t\t\t\t@bobs[i] = @bobs[i].prepend(data, options)\n\t\t\telse\n\t\t\t\t@bobs.push(@parent.prepend(data, options))\n\n\t\treturn this\n\ttoString: ->\n\t\tif @parent\n\t\t\treturn @parent.toString()\n\t\telse\n\t\t\thtml_string = \"\"\n\t\t\tfor bob in @bobs\n\t\t\t\tbob.parent = false\n\t\t\t\thtml_string += bob.toString()\n\t\t\treturn html_string\n\n\t\t#TODO: do(data).do(data2) does not behave correctly\n\t\t#also issues with Y().do(data).X().up(). => X in focus, not Y. NVM. this was correct\n\tdo: (data)->\n\t\tfor bob in @bobs\n\t\t\tBOB._data = @dataset[i]\n\t\t\tif @bobs[i]\n\t\t\t\t@bobs[i] = @bobs[i].do(data)\n\t\t\telse\n\t\t\t\t@bobs.push(@parent.do(data))\n\t\t\t\n\t\treturn this\n\tup: ->\n\t\treturn @parent unless @bobs[0]\n\n\t\tfor i in [0...@bobs.length]\n\t\t\t@bobs[i] = @bobs[i].up()\n\n\t\tif @bobs[0] == @parent\n\t\t\treturn @parent\n\t\telse\n\t\t\treturn this"]}