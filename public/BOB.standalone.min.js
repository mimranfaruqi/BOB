var BOB,BOBChildArray;BOB=function(){BOB._data=null;BOB.find=function(selector){};BOB.data=function(){return BOB._data};BOB.get_or_create_bob=function(data,options,parent){var child_bob;child_bob=null;if(data instanceof BOB){child_bob=data}else{child_bob=new BOB(data,options,parent)}return child_bob};BOB.toVariable=function(data){if(typeof data==="function"){return data()}else{return data}};function BOB(selector,options,parent,preBob,contentBob,postBob){var key,ref,ref1,value;if(parent==null){parent=null}if(preBob==null){preBob=null}if(contentBob==null){contentBob=null}if(postBob==null){postBob=null}if(selector.indexOf(" ")>-1){console.error('Invalid BOB selector. "'+selector+'" contains " "(space). Only allowed is "tag", "tag.class", or "tag#id".');return"Invalid selector. See console log for more details."}this.parent=parent;this.options={};if(options){for(key in options){value=options[key];this.options[key]=BOB.toVariable(value)}}this.preBob=preBob;this.innerBob=contentBob;this.postBob=postBob;this.type=selector;this.object_class=null;this.object_id=null;this.object_content="";this.object_style=null;if(selector.indexOf(".")>-1){ref=selector.split("."),this.type=ref[0],this.object_class=ref[1]}else if(selector.indexOf("#")>-1){ref1=selector.split("#"),this.type=ref1[0],this.object_id=ref1[1]}}BOB.prototype.content=function(content){this.object_content=BOB.toVariable(content);return this};BOB.prototype.style=function(style){this.object_style=BOB.toVariable(style);return this};BOB.prototype["class"]=function(object_class){this.object_class=BOB.toVariable(object_class);return this};BOB.prototype.id=function(object_id){this.object_id=BOB.toVariable(object_id);return this};BOB.prototype.insert=function(data,options){var child_bob;child_bob=BOB.get_or_create_bob(data,options,this);if(this.innerBob){this.innerBob.append(child_bob)}else{this.innerBob=child_bob}return child_bob};BOB.prototype.toString=function(){var append,content_b,key,prepend,printself,ref,value;if(this.parent){return this.parent.toString()}if(this.innerBob){this.innerBob.parent=null}if(this.preBob){this.preBob.parent=null}if(this.postBob){this.postBob.parent=null}prepend="";append="";printself="";content_b="";if(this.innerBob){content_b=this.innerBob.toString()}if(this.preBob){prepend=this.preBob.toString()}if(this.postBob){append=this.postBob.toString()}printself+="<"+this.type+" ";ref=this.options;for(key in ref){value=ref[key];if(!(key==="style"&&this.object_style||key==="id"&&this.object_id||key==="class"&&this.object_class)){printself+=key+'="'+value+'" '}}if(this.object_class){printself+='class="'+this.object_class+'" '}if(this.object_id){printself+='id="'+this.object_id+'" '}if(this.object_style){printself+='style="'+this.object_style+'" '}printself=printself.slice(0,-1);printself+=">"+this.object_content+content_b+"</"+this.type+">";return prepend+printself+append};BOB.prototype.p=function(){return this.toString()};BOB.prototype.append=function(data,options){var new_bob;new_bob=BOB.get_or_create_bob(data,options,this);if(this.postBob){return this.postBob.append(new_bob)}else{return this.postBob=new_bob}};BOB.prototype.prepend=function(data,options){var new_bob;new_bob=BOB.get_or_create_bob(data,options,this);if(this.preBob){return this.preBob.prepend(new_bob)}else{return this.preBob=new_bob}};BOB.prototype["do"]=function(dataset){var child_array;child_array=new BOBChildArray(dataset,this);return child_array};BOB.prototype.up=function(){return this.parent};BOB.prototype.parent=function(){return this.parent};return BOB}();BOBChildArray=function(){function BOBChildArray(dataset,parent){this.dataset=dataset;this.parent=parent;this.bobs=[]}BOBChildArray.prototype.content=function(content){var i,j,ref;for(i=j=0,ref=this.dataset.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){BOB._data=this.dataset[i];if(this.bobs[i]){this.bobs[i].content(content)}}return this};BOBChildArray.prototype.style=function(style){var i,j,ref;for(i=j=0,ref=this.dataset.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){BOB._data=this.dataset[i];if(this.bobs[i]){this.bobs[i].style(style)}}return this};BOBChildArray.prototype["class"]=function(object_class){var i,j,ref;for(i=j=0,ref=this.dataset.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){BOB._data=this.dataset[i];if(this.bobs[i]){this.bobs[i]["class"](object_class)}}return this};BOBChildArray.prototype.id=function(object_id){var i,j,ref;for(i=j=0,ref=this.dataset.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){BOB._data=this.dataset[i];if(this.bobs[i]){this.bobs[i].id(object_id)}}return this};BOBChildArray.prototype.insert=function(data,options){var i,j,ref;for(i=j=0,ref=this.dataset.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){BOB._data=this.dataset[i];if(this.bobs[i]){this.bobs[i]=this.bobs[i].insert(data,options)}else{this.bobs.push(this.parent.insert(data,options))}}return this};BOBChildArray.prototype.append=function(data,options){var i,j,ref;for(i=j=0,ref=this.dataset.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){BOB._data=this.dataset[i];if(this.bobs[i]){this.bobs[i]=this.bobs[i].append(data,options)}else{this.bobs.push(this.parent.append(data,options))}}return this};BOBChildArray.prototype.prepend=function(data,options){var i,j,ref;for(i=j=0,ref=this.dataset.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){BOB._data=this.dataset[i];if(this.bobs[i]){this.bobs[i]=this.bobs[i].prepend(data,options)}else{this.bobs.push(this.parent.prepend(data,options))}}return this};BOBChildArray.prototype.toString=function(){var bob,html_string,j,len,ref;if(this.parent){return this.parent.toString()}else{html_string="";ref=this.bobs;for(j=0,len=ref.length;j<len;j++){bob=ref[j];bob.parent=false;html_string+=bob.toString()}return html_string}};BOBChildArray.prototype.p=function(){return this.toString()};BOBChildArray.prototype["do"]=function(data){var bob,j,len,ref;ref=this.bobs;for(j=0,len=ref.length;j<len;j++){bob=ref[j];BOB._data=this.dataset[i];if(this.bobs[i]){this.bobs[i]=this.bobs[i]["do"](data)}else{this.bobs.push(this.parent["do"](data))}}return this};BOBChildArray.prototype.up=function(){var i,j,ref;if(!this.bobs[0]){BOB._data=null;return this.parent}for(i=j=0,ref=this.bobs.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){this.bobs[i]=this.bobs[i].up()}if(this.bobs[0]===this.parent){BOB._data=null;return this.parent}else{return this}};return BOBChildArray}();